<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commerce Financial Platforms (CFP) - User Journey Perspective</title>
    <!-- Mermaid library -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: true,
                theme: 'neutral',
                fontFamily: 'Segoe UI'
            });
        });
    </script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1, h2, h3 {
            color: #0078d4;
        }
        h1 {
            border-bottom: 2px solid #0078d4;
            padding-bottom: 10px;
        }
        h2 {
            margin-top: 30px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }
        pre {
            background-color: #f6f8fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 16px;
            overflow: auto;
        }
        code {
            font-family: Consolas, Monaco, 'Courier New', monospace;
        }
        .mermaid {
            text-align: center;
            margin: 30px 0;
            padding: 15px 0;
        }
        ul, ol {
            padding-left: 25px;
        }
        li {
            margin-bottom: 8px;
        }
        p {
            margin-bottom: 16px;
        }
        strong {
            font-weight: bold;
        }
        blockquote {
            border-left: 4px solid #0078d4;
            padding-left: 16px;
            margin-left: 0;
            color: #666;
        }
        a {
            color: #0078d4;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .menu {
            margin-bottom: 30px;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .menu a {
            margin-right: 15px;
            padding: 5px 10px;
            font-weight: 500;
            border-radius: 4px;
        }
        .menu a:hover {
            background-color: #e0e0e0;
            text-decoration: none;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="menu">
            <a href="high_level_overview.html">High Level Overview</a>
            <a href="data_retention_deletion.html">Data Retention & Deletion</a>
            <a href="external_data_sharing.html">External Data Sharing</a>
            <a href="transaction_processing_detail.html">Transaction Processing</a>
            <a href="index.html">Home</a>
        </div>
<h1>Commerce Financial Platforms (CFP) - User Journey Perspective</h1>

<p>This diagram illustrates the typical user journey and personal data flow from a customer's perspective when purchasing a Microsoft product online.</p>

<div class='mermaid'>flowchart TB
    %% Define styles
    classDef external fill:#f9f,stroke:#333,stroke-width:2px
    classDef process fill:#bbf,stroke:#333,stroke-width:1px
    classDef datastore fill:#dfd,stroke:#333,stroke-width:1px,shape:cylinder
    classDef sensitiveData fill:#fcb,stroke:#f66,stroke-width:2px
    classDef encrypted fill:#cfc,stroke:#393,stroke-width:1px
    classDef retention fill:#fdd,stroke:#933,stroke-width:2px
    
    %% External entities
    Customer(["Customer (John Doe)"]):::external
    PaymentProcessor(["Payment Processor"]):::external
    Bank(["Customer's Bank"]):::external
    TaxAuthority(["Tax Authority"]):::external
    EmailService(["Email Delivery Service"]):::external

    %% Internal processes
    CommerceWebsite["Microsoft Commerce Website"]:::process
    AccountCreation["Account Creation Process"]:::process
    PaymentProcessing["Payment Processing"]:::sensitiveData
    OrderGeneration["Order & Invoice Generation"]:::process
    SubscriptionActivation["Service Activation"]:::process
    OngoingBilling["Periodic Billing"]:::process
    CustomerSupport["Customer Support"]:::process
    DataLifecycle["Data Retention & Deletion"]:::retention
    
    %% Data stores
    CustomerDB[("Customer Database\n- Names, Contact details\n- Account IDs")]:::datastore
    BillingDB[("Billing Database\n- Transaction records\n- Payment tokens (not full CC#)\n- Billing addresses")]:::datastore
    FinanceDB[("Financial Records\n- Invoices, Receipts\n- Tax calculations\n- Usage data")]:::datastore
    ServiceDB[("Service Database\n- Subscription status\n- Usage metrics")]:::datastore
    
    subgraph MicrosoftBoundary["Microsoft Internal Systems"]
        CommerceWebsite
        AccountCreation
        PaymentProcessing
        OrderGeneration
        SubscriptionActivation
        OngoingBilling
        CustomerSupport
        DataLifecycle
        CustomerDB
        BillingDB
        FinanceDB
        ServiceDB
    end
    
    %% Data flows - Initial purchase
    Customer -->|"1. Personal info\n(name, address, email)\n[via TLS/SSL]"| CommerceWebsite
    Customer -->|"2. Credit card details\n(CC#, exp date)\n[via TLS/SSL]"| CommerceWebsite
    CommerceWebsite -->|"3. Create customer\naccount"| AccountCreation
    AccountCreation -->|"4. Store customer\nprofile"| CustomerDB
    CommerceWebsite -->|"5. Process payment\n(secured/encrypted)"| PaymentProcessing
    PaymentProcessing -->|"6. Tokenized payment\ndata (not full CC#)"| PaymentProcessor
    PaymentProcessor -->|"7. Process payment\nwith bank"| Bank
    Bank -->|"8. Payment\nconfirmation"| PaymentProcessor
    PaymentProcessor -->|"9. Payment\napproval"| PaymentProcessing
    PaymentProcessing -->|"10. Store payment\ntoken & transaction"| BillingDB
    AccountCreation -->|"11. Customer location\nfor tax calculation"| OrderGeneration
    OrderGeneration -->|"12. Calculate\napplicable taxes"| TaxAuthority
    OrderGeneration -->|"13. Generate invoice\n& store record"| FinanceDB
    OrderGeneration -->|"14. Send invoice\nto customer"| EmailService
    EmailService -->|"15. Email invoice\nto customer"| Customer
    
    %% Data flows - Subsequent service usage
    OrderGeneration -->|"16. Activate\nsubscription"| SubscriptionActivation
    SubscriptionActivation -->|"17. Create service\nrecord"| ServiceDB
    SubscriptionActivation -->|"18. Welcome\nemail"| EmailService
    ServiceDB -->|"19. Track usage\n& renewal dates"| OngoingBilling
    OngoingBilling -->|"20. Periodic billing\n(using stored token)"| PaymentProcessing
    OngoingBilling -->|"21. Update finance\nrecords"| FinanceDB
    
    %% Data flows - Support and data lifecycle
    Customer -->|"22. Billing or\naccount inquiry"| CustomerSupport
    CustomerSupport -->|"23. Access customer\nrecords (as needed)"| CustomerDB
    CustomerSupport -->|"24. Access billing\nrecords (as needed)"| BillingDB
    Customer -->|"25. Request data\ndeletion"| DataLifecycle
    DataLifecycle -->|"26. Remove personal data\n(where legally permitted)"| CustomerDB
    DataLifecycle -->|"27. Pseudonymize data\n(for legal retention)"| BillingDB
    DataLifecycle -->|"28. Retain financial records\n(required by law)"| FinanceDB
    
    %% Annotations for key data protection elements
    CustomerDB -.->|"Secured by encryption\n& access controls"| CustomerDB
    BillingDB -.->|"PCI compliant\nNo full CC# stored"| BillingDB
    FinanceDB -.->|"Retained for 7+ years\nfor tax/legal purposes"| FinanceDB
    Customer -.->|"Can access & correct\nbilling info via account"| Customer
    DataLifecycle -.->|"Data deleted or anonymized\nafter retention period"| DataLifecycle</div>

<p>#<h1>Legend</h1></p>

<p>This user journey data flow diagram illustrates:</p>

<p>1. <strong>User Actions</strong>: Key steps the user takes when purchasing and using Microsoft products
2. <strong>Data Collection Points</strong>: Where and how personal data enters Microsoft's systems
3. <strong>Data Processing</strong>: How personal data is processed for legitimate business purposes
4. <strong>Data Storage</strong>: Where personal data is stored and for how long
5. <strong>Data Protection</strong>: Security and privacy measures applied to personal data
6. <strong>Data Sharing</strong>: When and why personal data might be shared with third parties
7. <strong>Data Lifecycle</strong>: How personal data is managed throughout its lifecycle</p>

<p>#<h1>Key Data Protection Elements:</h1></p>

<ul><li><strong>Security Measures</strong>: All data is transmitted using TLS/SSL encryption</li>
<li><strong>Payment Protection</strong>: Full credit card numbers are not stored; tokenization is used instead</li>
<li><strong>Access Controls</strong>: Only authorized personnel can access personal data on a need-to-know basis</li>
<li><strong>Retention Policies</strong>: Clear retention periods based on legal requirements</li>
<li><strong>User Rights</strong>: Customers can access, correct, and request deletion of their data</li>
<li><strong>Minimal Sharing</strong>: Personal data is only shared when necessary to complete transactions or comply with legal obligations</li>

<p></ul>#<h1>Plain-Language User Journey:</h1></p>

<p>1. <strong>Providing Information</strong>: The customer provides personal details and payment information when making a purchase
2. <strong>Account Creation</strong>: Microsoft creates a billing account for the customer
3. <strong>Payment Processing</strong>: Payment details are securely processed through a payment service
4. <strong>Order Record</strong>: Microsoft generates and stores an order record and invoice
5. <strong>Service Activation</strong>: The purchased service is activated for the customer
6. <strong>Ongoing Service</strong>: Microsoft periodically uses the data for billing and service provision
7. <strong>Customer Support</strong>: If needed, support agents can access relevant customer information
8. <strong>Data Management</strong>: Personal data is protected throughout its lifecycle and eventually deleted or anonymized</p>
    </div>
</body>
</html>
